title: On Learning
date: 2010-01-01

<p>At a party last night, I explained spaced repetition and Anki to two separate groups of people.<sup>
  <a class="footnote_link" href="#footnote_1" name="footnote_back_1">[1]</a>
 </sup> I&#39;m really enthusiastic about Anki so I&#39;m shooting for as many converts as I can in a twenty-four hour period.
</p>
<h2>Spaced Repetition</h2>
<p>
 <a href="http://en.wikipedia.org/wiki/Spaced_repetition">Spaced repetition</a> is the principle that the best time to review a fact is just before you forget it.
</p>
<p>If spaced repetition weren&#39;t so effective, I bet the advertising industry would be far smaller. Try completing these slogans:</p>
<ul>
 <li>I can&#39;t believe it&#39;s not 
  <span class="spoiler">butter</span>
 </li>
 <li>Melts in your mouth, not in your 
  <span class="spoiler">hand</span>
 </li>
 <li>Just do 
  <span class="spoiler">it</span>
 </li>
 <li>The breakfast of 
  <span class="spoiler">champions</span>
 </li>
</ul>
<p>You haven&#39;t explicitly memorized these slogans, but I bet you&#39;d be hard-pressed to forget them. &#40;Most of?&#41; you know them effortlessly because you see and hear them every now and then. The same principle underlies spaced repetition.</p>
<p>A spaced repetition system &#40;SRS&#41; is basically a program that tests you using flash cards. The major departure from an ordinary flash card program is that an SRS has a <em>scheduler</em> which decides when to test you on each fact. The scheduling of a fact is influenced by how well you know that fact. That&#39;s the essence of an SRS; many SRS programs have all sorts of extra functionality on top of that since they&#39;re used &#40;and developed&#41; by people who are humorlessly serious about learning. Like me.
</p>
<p>I really like spaced repetition because it is rarely boring. You are never bogged down reviewing the same dozen cards that you <em>know</em>. With traditional flash cards, facts you know very well and facts you don&#39;t have the same precedence. Spaced repetition software tests you on facts you know well far less often than facts you don&#39;t know well yet. Unlike people, not all facts are created equal. You don&#39;t need to review every day that Boston is the capital of Massachusetts, especially if that&#39;s where you live. On the other hand, you may need to be reminded often that Regina is the capital of Saskatchewan. I sure do. Who even lives there.
</p>
<p>Ready for another example? The kanji 雑 &#40;miscellaneous&#41; is pretty new to me, so I&#39;m likely to see it again in the next day or two. On the other hand, every time I&#39;ve been tested on the kanji 副 &#40;vice-&#41; I&#39;ve gotten it correct, so I&#39;m not going to see it again for four months. And I bet I will remember it come May. If not, Anki will adjust the card&#39;s interval accordingly.</p>
<p>As of this writing I have 960 cards in my deck. It would take hours to review all of them every night. Not to mention that such reviews would be boring as hell, since I know most of the facts very well.
 <sup>
  <a class="footnote_link" href="#footnote_2" name="footnote_back_2">[2]</a>
 </sup>Thanks to spaced repetition knowing that I am capable of <em>learning</em>, I review only about 64 cards per day. That may still seem like a lot, but such a review takes only fifteen or twenty minutes a day. I&#39;ll gladly review 64 distinct cards a day over doing hundreds &#40;thousands?&#41; of repetitions of the same set of flash cards the night before an exam. Furthermore, SRS is designed to build memories that last longer than a semester.
</p>
<p>Most spaced repetition systems will actually let you grade yourself based on how well you know the fact. There&#39;s obviously a large gap between struggling to recall a fact before eventually getting it and having the answer pop into your head before you even finish reading the question. You will see cards of the former type more often than cards of the latter type.</p>
<h2>Anki</h2>
<p>
 <a href="http://ichi2.net/anki/">Anki</a> is one of the best spaced repetition systems. I use it to learn Japanese. I trust Anki so much that I feel if my deck lacks a particular word, phrase, kanji, or proper name, then <em>I do not know it</em>.
</p>
<p>I have recently begun to use Anki for more than just Japanese. I have a Miscellaneous deck into which I put whatever I feel is worth knowing. I learn state capitals, Canadian province capitals
 <sup>
  <a class="footnote_link" href="#footnote_3" name="footnote_back_3">[3]</a>
 </sup>, and words that I am not comfortable using in a sentence or whose definitions are vague. I should also start putting in different kinds of things like maps with one country&#39;s label erased and Perl&#39;s more unusual special variables. Maybe I&#39;ll even prepare for the CPAN drinking game. :&#41; Getting more exotic, there are people who put 
 <a href="http://supermemoadventures.blogspot.com/2009/12/art.html">art</a> into the SRS to learn more about art history, and even quotes from 
 <a href="http://www.alljapaneseallthetime.com/blog/why-the-way-we-read-sucks-and-how-to-fix-it-part-4-why-srs-personal-development-books">personal development books</a> so that the ideas are constantly in mind, which is more likely to effect change.
</p>
<p>I am not in school any more, but if I were, I would definitely have an Anki deck for each of my classes.</p>
<p>I used Anki to learn the Japanese poem 
 <a href="http://en.wikipedia.org/wiki/Iroha">Iroha</a>. I&#39;m not very into poetry, but Iroha is worth knowing for several reasons. It&#39;s a pangram of the &#40;circa 1000AD&#41; Japanese syllabary, so it immediately has Cool Points. The order of the kana in Iroha is still used in modern Japan for labeling Go boards and theater seats. I use it to practice writing all the kana.
</p>
<p>Iroha is far too long to use only one card, so the best way to learn it &#40;as pointed out by 
 <a href="http://study-shack.com/creating-cards-models-for-all-classes">Study Shack</a>&#41; is by using eight cards, one for each line of the poem. Each card has a different line blanked out and your job is to produce the missing line. Here&#39;s what Anki&#39;s review interface looks like &#40;with the answer revealed in the lower half&#41;:
</p>
<img src="http://sartak.org/misc/blog/anki/iroha.png" />
<p>Anki has a convenient feature called &#39;cloze deletion&#39; that makes creating eight similar cards like this take only a minute.</p>
<p>By the way seeing the other seven lines of the poem in every card is like even more spaced repetition, for free.</p>
<h3>Design</h3>
<p>Facts are not limited to a front and back. Each fact belongs to a <em>model</em>. The model lets you control which fields are available &#40;including requiredness and uniqueness constraints on each field&#41;. Some models I use are Sentence &#40;which has fields 日本語, Meaning, Readings, and Source&#41; and Capital &#40;Region, Capital&#41;. Models also control how cards of that model are displayed.
</p>
<img src="http://sartak.org/misc/blog/anki/model.png" />
<p>As you can see, you can also generate several cards from a single fact. Not only do I want to test myself to be able to produce the capital of a given region, but I also want to test myself on producing a region given just its capital city.</p>
<p>You can have as many fields in a model as you want, and you can generate many different types of cards for each fact. You could create eight cards based on ten fields if you were so inclined. This is powerful stuff! Anki lets you uphold the Don&#39;t Repeat Yourself principle dear to many programmers.</p>
<h3>Interface</h3>
<p>Anki has a lot of gears and widgets, but what matters most is the interface you see when you&#39;re reviewing a fact. It may not look like it, but Anki&#39;s review interface is actually a fully-featured web browser. <em>With Javascript.</em> It has, for example, 
 <code>alert&#40;&#41;</code>. Providing a full web browser gives Anki basically limitless flexibility!
</p>
<img src="http://sartak.org/misc/blog/anki/alert.png" />
<p>Being able to use arbitrary fields in a model works out amazingly well when you have Javascript at your disposal. You can make one of the fields a YouTube video and show it if you want.
 <sup>
  <a class="footnote_link" href="#footnote_4" name="footnote_back_4">[4]</a>
 </sup>
</p>
<h3>Plugins</h3>
<p>Anki is written in Python. Not only is its UI extensible, but the backend seems to be designed that way as well. There are a dozens of plugins that are easily available in File &gt; Download &gt; Shared Plugin. A lot of them offer incremental improvements, but there are two that have made Anki significantly better for me.</p>
<h4>Learn Mode</h4>
<p>I&#39;ve noticed a nasty corner case of spaced repetition as implemented by Anki. If you get a &#40;usually brand new&#41; card wrong, you&#39;ll see it again very soon, sometime within the same review. You&#39;ll probably then remember it easily thanks to short-term memory &#40;or perhaps very fleeting long-term memory&#41;. So you mark it honestly, as a three, which schedules it for review in two or three days. By the time you review it again you&#39;ll have forgoten it. Lame.</p>
<p>The Learn mode plugin alleviates this problem by performing a review with <em>much</em> shorter intervals. Cards are scheduled only seconds and minutes in the future, rather than d until there are no more cards for review &#40;since they&#39;rel scheduled a few minutes into the future&#41;. This usually results in 10 or 15 reviews for each fact. Then I go back to the  Anki on your iPod or iPhone. You sync with regular Anki using http over wifi; the plugin provides a web server.
 <sup>
  <a class="footnote_link" href="#footnote_5" name="footnote_back_5">[5]</a>
 </sup>There&#39;s another interface if your iPod/iPhone is jailbroken - Anki Mini - with more features but I had less luck in getting it to work correctly.
</p>
<p>The iAnki interface is much simpler than Anki&#39;s.  You can&#39;t add or edit cards, or even look at your card list. You can use iAnki only to review. Despite that, iAnki is still worth having. Maybe someday they &#40;or I!&#41; will add lots more functionality.</p>
<p>When learning kanji it&#39;s really important to practice writing them out. For a while I used the air or the back of my hand. Turns out I&#39;m way too forgiving of errors when I do that. So I really wanted a canvas directly in iAnki that I could use to grade myself properly.</p>
<p>I found 
 <a href="http://www.mblondel.org/journal/2008/08/01/web-canvas/">Web Canvas</a> which turned out to be quite good in terms of functionality and ease-of-use. I had to patch it to accept my iPod&#39;s touch gestures &#40;which was incorporated upstream&#41; but after that it was pretty smooth sailing. (update: I've also submitted some <a href="http://github.com/sartak/ianki">patches</a> to iAnki itself). Here&#39;s what my iAnki looks like for testing a kanji:
</p>

<img src="http://sartak.org/misc/blog/anki/IMG_0021.PNG" />
<p>This is asking us to produce the kanji for &#34;frost&#34;.</p>
<br />
<img src="http://sartak.org/misc/blog/anki/IMG_0023.PNG" />
<p>If I have trouble remembering the kanji, I can look at the primitive story of the kanji. Stories are a peculiarity of the 
 <a href="http://www.amazon.com/gp/product/0824831659?ie=UTF8&#38;tag=sartak-20&#38;linkCode=as2&#38;camp=1789&#38;creative=390957&#38;creativeASIN=0824831659">method I am using to learn kanji</a> which will be the topic of another post. The &#34;&#40;primitives&#41;&#34; link had a javascript onclick handler that replaced itself with the story. Hiding the story behind a link is handy because I usually do not want to see the story unless I am stuck.
 <sup>
  <a class="footnote_link" href="#footnote_6" name="footnote_back_6">[6]</a>
 </sup>
</p>
<br />
<img src="http://sartak.org/misc/blog/anki/IMG_0024.PNG" />
<p>Now I&#39;ve written out the kanji. As fun as touchscreens are, it&#39;s <em>really</em> hard to demonstrate good penmanship with them. This is actually embarrassingly bad.
 <sup>
  <a class="footnote_link" href="#footnote_7" name="footnote_back_7">[7]</a>
 </sup>
</p>
<br />
<img src="http://sartak.org/misc/blog/anki/IMG_0025.PNG" />
<p>Finally I check the answer against what I wrote. Since I got this correct, and I recalled it effortlessly, I marked it as a four. Anki scheduled this kanji to appear again in about eight weeks.</p>
<h3>Graphs</h3>
<p>Most importantly, Anki lets you measure your worth with graphs and statistics! This is a graph of facts I&#39;ve added over the past month. The spike on the fifth is when I played Phantasy Star IV
 <sup>
  <a class="footnote_link" href="#footnote_8" name="footnote_back_8">[8]</a>
 </sup>all day and added a bunch of sentences.
</p>
<img src="http://sartak.org/misc/blog/anki/graph.png" />
<p>It also tells you how difficult each card is. So here are the cards that trouble me most. I should give them special treatment, such as cramming them for a while or something.</p>
<img src="http://sartak.org/misc/blog/anki/ease.png" />
<p>All of your cards are stored in a SQLite database so if Anki doesn&#39;t offer exactly the kind of information you want, you can still get at it. I used the database directly to produce a 
 <a href="http://sartak.org/misc/kanji.html">calendar of kanji</a> I&#39;ve learned. That was a little worrying; I didn&#39;t realize how few kanji I learned in November and December &#40;compared to October&#41;. But for the same reason it was also motivating.
</p>
<hr />
<p>Anki is a wonderful program. <strong>I will use Anki and its successors for the rest of my life.</strong> It&#39;s almost too bad Anki is free software.. I would have liked to be able to retire on commission. ;&#41;
 <sup>
  <a class="footnote_link" href="#footnote_9" name="footnote_back_9">[9]</a>
 </sup>
</p>

<p>If I've sold you on SRS then download <a href="http://ichi2.net/anki/">Anki</a> then head on over to the <a href="http://study-shack.com/table-of-contents">Study Shack</a> which talks about what kind of cards are good, and other SRS management tips.</p>

<hr />
<h5>Footnotes</h5>
<ol class="footnotes">
 <li class="footnote">
  <a name="footnote_1"></a>
  <span class="footnote_content">Yes I know I attend wild parties. :&#41;</span>
  <sup>
   <a href="#footnote_back_1" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_2"></a>
  <span class="footnote_content">Similarly, writing this is boring as hell because I know all of this. But you don&#39;t. So you&#39;re welcome. As if you were even grateful to begin with... Just get out my face and click this:</span>
  <sup>
   <a href="#footnote_back_2" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_3"></a>
  <span class="footnote_content">Do you remember the capital of Saskatchewan? It&#39;s still 
   <span class="spoiler">Regina</span>
  </span>
  <sup>
   <a href="#footnote_back_3" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_4"></a>
  <span class="footnote_content">I don&#39;t know. That&#39;s a useless example. I have a better one later. It lives between where you came from and where you are now.</span>
  <sup>
   <a href="#footnote_back_4" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_5"></a>
  <span class="footnote_content">The web server is WSGI-based. Also the Javascript bits of iAnki use Joose. We have these things in Perl F.Y.I.!</span>
  <sup>
   <a href="#footnote_back_5" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_6"></a>
  <span class="footnote_content">This is the better example I was talking about. Case closed.</span>
  <sup>
   <a href="#footnote_back_6" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_7"></a>
  <span class="footnote_content">In ten years I&#39;m going to happen upon this image and cry.</span>
  <sup>
   <a href="#footnote_back_7" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_8"></a>
  <span class="footnote_content">which owns
   <sup>
    <a class="footnote_link" href="#footnote_10" name="footnote_back_10">[10]</a>
   </sup>
  </span>
  <sup>
   <a href="#footnote_back_8" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_9"></a>
  <span class="footnote_content">Quick! Capital of Saskatchewan! Go! Don&#39;t look at footnote 3 either.</span>
  <sup>
   <a href="#footnote_back_9" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
 <li class="footnote">
  <a name="footnote_10"></a>
  <span class="footnote_content">Sorry about all the footnotes. I made it really easy to make them. :&#41;</span>
  <sup>
   <a href="#footnote_back_10" class="footnote_link_top">&#8617;</a>
  </sup>
 </li>
</ol>
